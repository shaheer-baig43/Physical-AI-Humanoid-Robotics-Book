"use strict";(globalThis.webpackChunkmy_website=globalThis.webpackChunkmy_website||[]).push([[8973],{6271:(e,r,n)=>{n.d(r,{A:()=>a});const a={authContainer:"authContainer_y6uj",authInputGroup:"authInputGroup_KGzQ",authButton:"authButton_fsVZ",error:"error_x0kI"}},7764:(e,r,n)=>{n.r(r),n.d(r,{default:()=>c});var a=n(6540),l=n(2880),i=n(6154),o=n(6271),s=n(4848);const t=()=>{const[e,r]=(0,a.useState)({programming_skill_level:"beginner",robotics_experience:"none",hardware_access:"",preferred_language:"en"}),[n,l]=(0,a.useState)(null),[t,c]=(0,a.useState)(null),[u,d]=(0,a.useState)(null);(0,a.useEffect)(()=>{(async()=>{try{const e=await i.A.getMe();e?(d(e),e.profile&&r({programming_skill_level:e.profile.programming_skill_level||"beginner",robotics_experience:e.profile.robotics_experience||"none",hardware_access:e.profile.hardware_access||"",preferred_language:e.profile.preferred_language||"en"})):l("Please log in first to complete your profile.")}catch(e){l("Failed to fetch user data. Please try logging in again."),console.error("Error fetching user data:",e)}})()},[]);const p=e=>{const{name:n,value:a}=e.target;r(e=>({...e,[n]:a}))};return u?(0,s.jsxs)("div",{className:o.A.authContainer,children:[(0,s.jsx)("h2",{children:"Complete Your Profile"}),n&&(0,s.jsx)("p",{className:o.A.error,children:n}),t&&(0,s.jsx)("p",{className:o.A.success,children:t}),(0,s.jsxs)("form",{onSubmit:async r=>{if(r.preventDefault(),l(null),c(null),u)try{const r=await i.A.updateUserProfile(e);c("Profile updated successfully!"),console.log("Profile updated:",r),window.location.href="/"}catch(n){l("Failed to update profile. Please check your inputs."),console.error("Profile update error:",n)}else l("You must be logged in to complete your profile.")},children:[(0,s.jsxs)("div",{className:o.A.authInputGroup,children:[(0,s.jsx)("label",{htmlFor:"programming_skill_level",children:"Programming Skill Level:"}),(0,s.jsxs)("select",{id:"programming_skill_level",name:"programming_skill_level",value:e.programming_skill_level,onChange:p,required:!0,children:[(0,s.jsx)("option",{value:"beginner",children:"Beginner"}),(0,s.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,s.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,s.jsxs)("div",{className:o.A.authInputGroup,children:[(0,s.jsx)("label",{htmlFor:"robotics_experience",children:"Robotics Experience:"}),(0,s.jsxs)("select",{id:"robotics_experience",name:"robotics_experience",value:e.robotics_experience,onChange:p,required:!0,children:[(0,s.jsx)("option",{value:"none",children:"None"}),(0,s.jsx)("option",{value:"basic",children:"Basic"}),(0,s.jsx)("option",{value:"intermediate",children:"Intermediate"}),(0,s.jsx)("option",{value:"advanced",children:"Advanced"})]})]}),(0,s.jsxs)("div",{className:o.A.authInputGroup,children:[(0,s.jsx)("label",{htmlFor:"hardware_access",children:"Hardware Access (comma-separated, e.g., Arduino,GPU):"}),(0,s.jsx)("input",{type:"text",id:"hardware_access",name:"hardware_access",value:e.hardware_access,onChange:p,placeholder:"Arduino, Raspberry Pi, GPU"})]}),(0,s.jsxs)("div",{className:o.A.authInputGroup,children:[(0,s.jsx)("label",{htmlFor:"preferred_language",children:"Preferred Language:"}),(0,s.jsxs)("select",{id:"preferred_language",name:"preferred_language",value:e.preferred_language,onChange:p,required:!0,children:[(0,s.jsx)("option",{value:"en",children:"English"}),(0,s.jsx)("option",{value:"ur",children:"Urdu"})]})]}),(0,s.jsx)("button",{type:"submit",className:o.A.authButton,children:"Save Profile"})]})]}):(0,s.jsxs)("div",{className:o.A.authContainer,children:[(0,s.jsx)("h2",{children:"Complete Your Profile"}),(0,s.jsx)("p",{className:o.A.error,children:n||"Loading user data..."}),(0,s.jsx)("p",{children:"You need to log in first using Google before completing your profile."}),(0,s.jsx)("button",{className:o.A.authButton,onClick:i.A.login,children:"Login with Google"})]})};const c=function(){return(0,s.jsx)(l.A,{title:"Signup",description:"Create an account and complete your profile",children:(0,s.jsx)("main",{children:(0,s.jsx)(t,{})})})}}}]);